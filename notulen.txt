- is_deleted = false klopt in toekomst, maar nog niet daadwerkelijk gewerkt
- oplossing database juiste info opvragen (where date < '20160101')
- keuze gemaakt om per layer een voorspellend model te maken
- weercijfer formule gemaakt
- data tot voor 2010 eruit halen aangezien l1nda voor 2009 nog niet bestaat, waarschijnlijk was deze data resultaat testjes
- en voor het mappen met de weerdata is het fijn onnodig berekeningen van de iteraties uit te voeren voor nietszeggende data.


---------------------------------------------------------

Vragen:

Waarom zijn sommige user_id's leeg?
Waarom bestaan er al gewerkten dagen in de toekomst en voordat het bedrijf opgestart was (2009)





---------------------------------------------------------


Aanpak (stappenplan):
	Doel:
		Aan de hand van een samen te stellen combinatie van features, multivariate lineaire regressie uitvoeren, om vervolgens een model te genereren dat zo accuraat mogelijk voorspelt wat het gewerkt aantal uren op een dag zal zijn.
		(Dit kan dan dan worden vergelijken met het daadwerkelijk aantal gewerkte uren en het geplande aantal uren van een professioneel rooster maker.)

		**** Doel: welke features dragen bij aan de verhoging van de accuracy?
		**** is het dan vervanging van roosterplanner?
		**** Eigenlijk eerst kijken/spelen naar/met de most predictive values en kijken hoe accuraat het model is, en dan kijken of het toevoegen van zelf bedachte features die accuracy verhoogt?
		**** Polynomiale multivariate lineare regressie?
		**** Een systeem dat op basis van univariaat (predictive) uren berekent, en suggestie doet voor meer of minder (kan ook met naive bayes, of combinatie)?		
		**** API maken op een server?

		**** Uren berekenen in totaal per dag? per functie per dag? per functie per locatie in totaal per dag?

		**** Hoe krijgen we het aantal daadwerkelijk gewerkte uren?
		**** Hoe sorteren we het geplande/gewerkte uren per locatie?
		**** beetje marketing, kunnen we de magic ‘drukte feature’ bedenken?

		1. Zelf (indicatieve) features bedenken, mogelijke features:
			- Gemiddeld aantal uren op de dag van de week
		    - Zelfde dag/week vorig jaar
			- Weercijfer die dag
			- Standaard fout in de planning
			- Feestdag/speciale events
			- Type contract
			- Openingstijden
			- Drukte per dagdeel
			- (Omzet/gewerkt aantal uren?)
		2. Correlatie berekenen om te bekijken welke features de meest predictive value hebben uit de dataset, om die vervolgens ook mee te nemen in 	de lineaire regressie.
		3. (Kijken of de zelf bedachte features een hoge predictive value/correlatie hebben?)
		4. Zelf bedachte features en most predictive values samenvoegen
		5. (Ergens clustering gebruiken om te kijken wat voor features er mogelijk verscholen zitten in de data)
		6. Regressie uitvoeren


---------------------------------------------------------

Logboek:

Dinsdag 5-01-2016

	Start project, Hoorcollege over het project van 9-11, daarna bespreking met Wouter Suren van L1nda over de opdracht.
	De bedoeling is om een programma te schrijven dat door de aangeleverde data heengaat en opzoek gaat naar de meest predictive features die voorspellen hoeveel uren er ingeroosterd moeten worden.
	De data is nog niet aangeleverd dus we hebben nog niet concreet iets kunnen doen, gebrainstormd over hoe we dit aan zouden pakken. Het liefst met multivariate lineaire regressie kijken of we modellen kunnen trainen die voorspelen hoeveel uren er ingeplant worden op basis van bepaalde features. Ook willen we kijken naar unsupervised learning om te kijken of we wat clusters kunnen maken voor het uitbreiden van de features. We willen als features het weer in ieder geval gebruiken, dit staat echter niet in de aangeleverde data dus die moeten we zelf gaan zien te maken.


Woensdag 6-01-2016

	We hebben de data gekregen vandaag, de twee belangrijkste dingen die we moeten doen zijn het werkend krijgen van de data, dit is geschreven als psql file en dit kunnen we niet openen. Na veel proberen hebben we uiteindelijk de data werkend gekregen en kunnen we dit wegschrijven. Echter kunnen we nog niet goed de data uit het bestand halen die we nodig hebben. We weten niet precies hoe we de data per bedrijf kunnen krijgen, dus daar moeten we nog even naar kijken. Ook het aantal gewerkte uren konden we niet tevoorschijn krijgen omdat er in de uitleg per email stond dat dit zo was als 'is_deleted' == false OF 'is_deleted' == true AND forward_id == forward_id. Dit kan niet want dan heb je alle data. Hier hebben we contact voor gezocht maar nog geen antwoord op gekregen. 
Wel hebben we de geplande uren kunnen opvragen.
Om data te over het weer te verzamellen, hebben we een data dump van de KNMI gedownload. In deze datadump waren gedetailleerde weergegevens verzameld vanaf 1951 tot nu. Het leek ons voor het leeralgoritme meer relevant om het weer te uiten in een weercijfer. Deze dag hebben we nog een tijd gezocht of hier ook een geschiedenis van te vinden was. Dit is ons echter niet gelukt. We hebben besloten om met de gegevens van het KNMI een weercijfer te bepalen

Donderdag 7-01-2016

	Vandaag hebben we werkend gekregen dat we per bedrijf data kunnen opvragen, ook de gewerkte uren zijn goed nu op te vragen, dit bleek te zijn dat het forward_id == id. We hebben voorelkaar gekregen om de data te splitsen per filiaal per zogenaamde layer, bijv keuken enz. Hierna hebben we per dag de gewerkte shifts bij elkaar opgeteld om zo een overzicht te krijgen van gewerkte uren per dag. Plan voor morgen is om per datum de dag van de week op te vragen. Ook de weercijfers zijn goed dus die kunnen we nu toevoegen aan de data. Om het weercijfer te berekenen, hebben we een de oorspronkelijke formule van het weercijfer iets aangepast zodat het te berekenen was met de data van het KNMI. Het gevolg hiervan is dat de mist niet verwerkt is in het weercijfer maar enkel de bedekkingsfactor, de neerslag en de wind. De volgende stap is het toevoegen van de weercijfers aan de rest van de data. Hierna zijn we waarschijnlijk bijna klaar met het preprocessen van de data en kunnen we aan de slag met het verwerken en de 


---------------------------------------------------------

Resultaten:

Correlatie tussen weer en gewerkte uren:
[0.016853422257149978]	


